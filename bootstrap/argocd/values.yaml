global:
  domain: argocd.typie.io

redis:
  podAnnotations:
    ad.datadoghq.com/exclude: "true"

configs:
  cm:
    resource.customizations.ignoreDifferences.external-secrets.io_ExternalSecret:
      |
      jqPathExpressions:
        - .spec.data[].remoteRef | .conversionStrategy, .decodingStrategy, .metadataPolicy
        - .spec.dataFrom[].find | .conversionStrategy, .decodingStrategy

    resource.customizations.knownTypeFields.argoproj.io_Rollout: |
      - field: spec.template.spec
        type: core/v1/PodSpec

    resource.exclusions: |
      - apiGroups:
        - discovery.k8s.io
        kinds:
        - EndpointSlice
      - apiGroups:
        - coordination.k8s.io
        kinds:
        - Lease
      - apiGroups:
        - cert-manager.io
        kinds:
        - CertificateRequest
      - apiGroups:
        - cilium.io
        kinds:
        - CiliumIdentity
        - CiliumEndpoint
        - CiliumEndpointSlice

server:
  ingress:
    enabled: true
    ingressClassName: cilium

    annotations:
      ingress.cilium.io/tls-passthrough: enabled
      ingress.cilium.io/force-https: enabled
      external-dns.typie.io/enabled: "true"

    tls: true

  certificate:
    enabled: true
    issuer:
      group: cert-manager.io
      kind: ClusterIssuer
      name: letsencrypt
